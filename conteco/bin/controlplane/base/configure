#!/usr/bin/env bash
(
    export PATH="/conteco/bin/${CONTECO_TYPE}/${CONTECO_NAME}:/conteco/bin/${CONTECO_TYPE}/${CONTECO_NAME}/internal:/conteco/bin/${CONTECO_TYPE}/internal:$CONTECO_EXECUTIONPLANE_ORIGINALPATH"
    . executionplane-invoke "$0 $@"

    method=$1
    case $method in
        extract)
            for-each .image $@
            ;;
        load)
            for-each .image $@
            ;;
        pull)
            .image $@
            ;;
        rm)
            .image $@
            ;;
        unload)
            for-each .image $@
            ;;
        *)
            . executionplane-error "Method needs repository node selection for execution."
            ;;
    esac
    . executionplane-complete
)
