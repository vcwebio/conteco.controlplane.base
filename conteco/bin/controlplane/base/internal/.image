#!/usr/bin/env bash
(
    . executionplane-invoke "$0 $@"
    case "$1" in
		build)
			executionplane docker image $@
			;;
		prune)
			executionplane docker image $@
			;;
		pull)
			executionplane docker image $@
			;;
		push)
			executionplane docker image $@
			;;
		rm)
			if [[ "$2" == "all" ] ; then
				executionplane docker image rm $(docker image ls)
			else
				executionplane docker image $@
			fi
			;;
		tag)
			executionplane docker image $@
			;;
        *)
            executionplane-error "Method not recognised: $1."
            ;;
    esac
    executionplane-wait-for-output-parser
    executionplane-complete
)
