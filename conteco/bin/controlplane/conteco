#!/usr/bin/env bash

# the conteco handler maps onto the .invoke API entry point
# the arguments are supplied as is to the .invoke method
# script waits until output-parser-tagged has finished to exit
(
    export PATH="/conteco/bin/controlplane/base/internal:$CONTECO_EXECUTIONPLANE_ORIGINALPATH"
    .invoke $@ > >( output-parser-tagged ) 2> >( output-parser-tagged );
    wait-for-output-parser-tagged
)
